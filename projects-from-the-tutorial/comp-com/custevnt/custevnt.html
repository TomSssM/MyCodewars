<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./menu.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.3.0/lodash.js"></script>
  <script src="./menu.js"></script>
</head>

<body>

  <script type="text/template" id="menu-template">
    <div class="menu">
      <span class="title"><%-title%></span>
    </div>
  </script>

  <script type="text/template" id="menu-list-template">
    <ul>
      <% for(let name in items) { %>
        <li>
          <a href="#<%=encodeURIComponent(name)%>">
            <%-items[name]%>
          </a>
        </li>
      <% } %>
    </ul>
  </script>

  <script>
    const menu = new Menu({
      title: "Sweets",
      template: _.template(document.getElementById('menu-template').innerHTML.trim()),
      listTemplate: _.template(document.getElementById('menu-list-template').innerHTML.trim()),
      items: {
        cake: "Coka", // cake  <a href="#cake">Coka</a>
        donut: "Donuttttt",
        chocolate: "Chocolato"
      }
    });

    const elem = menu.getElem();
    document.body.appendChild(elem);
    // only here we assign the event handler
    elem.addEventListener('select', function(event) {
      alert(event.detail);
    });
  </script>

</body>

</html>